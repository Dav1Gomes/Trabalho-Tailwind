@page "/"
@inject NavigationManager NavigationManager
@inject SessionService SessionService

<PageTitle>Home</PageTitle>

<div class="flex flex-col items-center mt-8">

    <h1 class="text-4xl font-bold mb-6">Bem-vindo ao Delivery Dos Confirmar (WIP)</h1>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 w-full max-w-4xl">

        @foreach (var restaurante in RestaurantesAleatorios)
        {
            <div class="cursor-pointer bg-white p-6 rounded-xl shadow-md hover:scale-105 transition"
                 @onclick="() => IrParaRestaurante(restaurante.Id)">
                <h2 class="text-2xl font-semibold">@restaurante.Nome</h2>
                <p class="text-gray-600 mt-2">Nota: @restaurante.Nota</p>
            </div>
        }

    </div>

</div>

@code {
    private List<Restaurante> TodosRestaurantes = new List<Restaurante>
    {
        new Restaurante { Id = 1, Nome = "Restaurante 1", Nota = 4.5 },
        new Restaurante { Id = 2, Nome = "Restaurante 2", Nota = 4.2 },
        new Restaurante { Id = 3, Nome = "Restaurante 3", Nota = 4.8 },
        new Restaurante { Id = 4, Nome = "Restaurante 4", Nota = 4.0 },
        new Restaurante { Id = 5, Nome = "Restaurante 5", Nota = 4.7 }
    };

    private List<Restaurante> RestaurantesAleatorios = new();

    protected override void OnInitialized()
    {
        var random = new Random();
        RestaurantesAleatorios = TodosRestaurantes.OrderBy(x => random.Next()).Take(2).ToList();
    }

    private void IrParaRestaurante(int restauranteId)
    {
        NavigationManager.NavigateTo($"/restaurante/{restauranteId}");
    }

    public class Restaurante
    {
        public int Id { get; set; }
        public string Nome { get; set; }
        public double Nota { get; set; }
    }
}
